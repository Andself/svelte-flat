!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Flat=t()}(this,function(){"use strict";function e(e,t){function n(e){t.onclick(e)}var i=document.createElement("button");i.addEventListener("click",n,!1),i.className="sf-button sf-button--"+(e.status?e.status:"default"),i.disabled=e.disabled;var r=document.createElement("span");i.appendChild(r);var o=document.createTextNode(e.content);return r.appendChild(o),{mount:function(e,t){e.insertBefore(i,t)},update:function(e,t){i.className="sf-button sf-button--"+(t.status?t.status:"default"),i.disabled=t.disabled,o.data=t.content},teardown:function(e){i.removeEventListener("click",n,!1),e&&i.parentNode.removeChild(i)}}}function t(t){function n(e,t,n){for(var r in e)if(r in t){var o=t[r],a=n[r];if(o!==a||"object"===("undefined"==typeof o?"undefined":c(o))){var l=e[r];if(l)for(var d=0;d<l.length;d+=1){var s=l[d];s.__calling||(s.__calling=!0,s.call(i,o,a),s.__calling=!1)}}}}t=t||{};var i=this,r=t.data||{},o={immediate:Object.create(null),deferred:Object.create(null)},a=Object.create(null);this.fire=function(e,t){var n=e in a&&a[e].slice();if(n)for(var i=0;i<n.length;i+=1)n[i].call(this,t)},this.get=function(e){return e?r[e]:r},this.set=function(e){var t=r;r=Object.assign({},t,e),n(o.immediate,e,t),l&&l.update(e,r),n(o.deferred,e,t)},this._mount=function(e,t){l.mount(e,t)},this.observe=function(e,t,n){var a=n&&n.defer?o.deferred:o.immediate;return(a[e]||(a[e]=[])).push(t),n&&n.init===!1||(t.__calling=!0,t.call(i,r[e]),t.__calling=!1),{cancel:function(){var n=a[e].indexOf(t);~n&&a[e].splice(n,1)}}},this.on=function(e,t){var n=a[e]||(a[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},this.teardown=function(e){this.fire("teardown"),l.teardown(e!==!1),l=null,r={}},this.root=t.root,this.yield=t.yield;var l=e(r,this);t.target&&this._mount(t.target)}function n(e,t){function n(e){t.onfocus(e)}var i=document.createElement("input");return i.addEventListener("focus",n,!1),i.className="sf-input sf-input--"+(e.status?e.status:"default"),i.placeholder=e.placeholder?e.placeholder:"",i.type=e.type?e.type:"text",i.disabled=e.disabled,i.value=e.value?e.value:"",{mount:function(e,t){e.insertBefore(i,t)},update:function(e,t){i.className="sf-input sf-input--"+(t.status?t.status:"default"),i.placeholder=t.placeholder?t.placeholder:"",i.type=t.type?t.type:"text",i.disabled=t.disabled,i.value=t.value?t.value:""},teardown:function(e){i.removeEventListener("focus",n,!1),e&&i.parentNode.removeChild(i)}}}function i(e){function t(e,t,n){for(var r in e)if(r in t){var o=t[r],a=n[r];if(o!==a||"object"===("undefined"==typeof o?"undefined":c(o))){var l=e[r];if(l)for(var d=0;d<l.length;d+=1){var s=l[d];s.__calling||(s.__calling=!0,s.call(i,o,a),s.__calling=!1)}}}}e=e||{};var i=this,r=e.data||{},o={immediate:Object.create(null),deferred:Object.create(null)},a=Object.create(null);this.fire=function(e,t){var n=e in a&&a[e].slice();if(n)for(var i=0;i<n.length;i+=1)n[i].call(this,t)},this.get=function(e){return e?r[e]:r},this.set=function(e){var n=r;r=Object.assign({},n,e),t(o.immediate,e,n),l&&l.update(e,r),t(o.deferred,e,n)},this._mount=function(e,t){l.mount(e,t)},this.observe=function(e,t,n){var a=n&&n.defer?o.deferred:o.immediate;return(a[e]||(a[e]=[])).push(t),n&&n.init===!1||(t.__calling=!0,t.call(i,r[e]),t.__calling=!1),{cancel:function(){var n=a[e].indexOf(t);~n&&a[e].splice(n,1)}}},this.on=function(e,t){var n=a[e]||(a[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},this.teardown=function(e){this.fire("teardown"),l.teardown(e!==!1),l=null,r={}},this.root=e.root,this.yield=e.yield;var l=n(r,this);e.target&&this._mount(e.target)}function r(e,t){function n(e){t.togglePlay()}var i=document.createElement("div");i.className="sf-video",i.style.cssText="width: "+e.width+"px; height: "+e.height+"px;";var r=document.createElement("video");t.refs.video=r,r.width=e.width,r.height=e.height,r.src=e.src,r.loop=e.loop,i.appendChild(r),i.appendChild(document.createTextNode("\n  "));var o=document.createElement("div");o.className="sf-video-controls",i.appendChild(o);var a=document.createElement("label");a.className="sf-video-controls--play",o.appendChild(a);var l=document.createElement("input");t.refs.togglePlay=l,l.type="checkbox",l.addEventListener("change",n,!1),a.appendChild(l),a.appendChild(document.createTextNode("\n      "));var c=document.createElement("span");return a.appendChild(c),{mount:function(e,t){e.insertBefore(i,t)},update:function(e,t){i.style.cssText="width: "+t.width+"px; height: "+t.height+"px;",r.width=t.width,r.height=t.height,r.src=t.src,r.loop=t.loop},teardown:function(e){t.refs.video===r&&(t.refs.video=null),t.refs.togglePlay===l&&(t.refs.togglePlay=null),l.removeEventListener("change",n,!1),e&&i.parentNode.removeChild(i)}}}function o(e){function t(e,t,i){for(var r in e)if(r in t){var o=t[r],a=i[r];if(o!==a||"object"===("undefined"==typeof o?"undefined":c(o))){var l=e[r];if(l)for(var d=0;d<l.length;d+=1){var s=l[d];s.__calling||(s.__calling=!0,s.call(n,o,a),s.__calling=!1)}}}}e=e||{};var n=this;this.refs={};var i=e.data||{},o={immediate:Object.create(null),deferred:Object.create(null)},a=Object.create(null);this.fire=function(e,t){var n=e in a&&a[e].slice();if(n)for(var i=0;i<n.length;i+=1)n[i].call(this,t)},this.get=function(e){return e?i[e]:i},this.set=function(e){var n=i;i=Object.assign({},n,e),t(o.immediate,e,n),l&&l.update(e,i),t(o.deferred,e,n)},this._mount=function(e,t){l.mount(e,t)},this.observe=function(e,t,r){var a=r&&r.defer?o.deferred:o.immediate;return(a[e]||(a[e]=[])).push(t),r&&r.init===!1||(t.__calling=!0,t.call(n,i[e]),t.__calling=!1),{cancel:function(){var n=a[e].indexOf(t);~n&&a[e].splice(n,1)}}},this.on=function(e,t){var n=a[e]||(a[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},this.teardown=function(e){this.fire("teardown"),l.teardown(e!==!1),l=null,i={}},this.root=e.root,this.yield=e.yield;var l=r(i,this);e.target&&this._mount(e.target),e.root?e.root.__renderHooks.push({fn:u.onrender,context:this}):u.onrender.call(this)}function a(e,t){function n(e){t.handleMousedown(e)}var i=document.createElement("div");i.className="sf-slider";var r=document.createElement("div");r.className="sf-slider__range",r.style.cssText="width: "+e.value+"%",i.appendChild(r),i.appendChild(document.createTextNode("\n  "));var o=document.createElement("a");return o.className="sf-slider__handle",o.style.cssText="left: "+e.value+"%",o.addEventListener("mousedown",n,!1),i.appendChild(o),{mount:function(e,t){e.insertBefore(i,t)},update:function(e,t){r.style.cssText="width: "+t.value+"%",o.style.cssText="left: "+t.value+"%"},teardown:function(e){o.removeEventListener("mousedown",n,!1),e&&i.parentNode.removeChild(i)}}}function l(e){function t(e,t,i){for(var r in e)if(r in t){var o=t[r],a=i[r];if(o!==a||"object"===("undefined"==typeof o?"undefined":c(o))){var l=e[r];if(l)for(var d=0;d<l.length;d+=1){var s=l[d];s.__calling||(s.__calling=!0,s.call(n,o,a),s.__calling=!1)}}}}e=e||{};var n=this,i=e.data||{},r={immediate:Object.create(null),deferred:Object.create(null)},o=Object.create(null);this.fire=function(e,t){var n=e in o&&o[e].slice();if(n)for(var i=0;i<n.length;i+=1)n[i].call(this,t)},this.get=function(e){return e?i[e]:i},this.set=function(e){var n=i;i=Object.assign({},n,e),t(r.immediate,e,n),l&&l.update(e,i),t(r.deferred,e,n)},this._mount=function(e,t){l.mount(e,t)},this.observe=function(e,t,o){var a=o&&o.defer?r.deferred:r.immediate;return(a[e]||(a[e]=[])).push(t),o&&o.init===!1||(t.__calling=!0,t.call(n,i[e]),t.__calling=!1),{cancel:function(){var n=a[e].indexOf(t);~n&&a[e].splice(n,1)}}},this.on=function(e,t){var n=o[e]||(o[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},this.teardown=function(e){this.fire("teardown"),l.teardown(e!==!1),l=null,i={}},this.root=e.root,this.yield=e.yield;var l=a(i,this);e.target&&this._mount(e.target)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){return{methods:{onclick:function(e){}}}}();t.prototype=d.methods;var s=function(){return{methods:{onfocus:function(e){}}}}();i.prototype=s.methods;var u=function(){return{onrender:function(){var e=this.refs.video,t=this.refs.togglePlay;e.onended=function(){t.checked=!1}},methods:{togglePlay:function(){var e=this.refs.video;e.paused?e.play():e.pause()}}}}();o.prototype=u.methods;var f=function(){return{methods:{handleMousedown:function(e){console.log(e)}}}}();l.prototype=f.methods;var h={Button:t,Input:i,Video:o,Slider:l};return h});
